from CipherUtils import *

print("Challenge 6")
print("Part A")

text = """
WJONH TNGYN CTTKH JQWCJ VIHVN TDONG UVWMI AKJNJ ZINHJ WVNTL DKCTW JJVIH VIZMI HBNGU VITDL LWCJD JVISZ DDBNC TBDHJ DLJVI BOIGI IBEJQ JVDKS VJVIG IONHJ VIDUU NHWDC NZADP DLENE IGHBN GYITH NOVWU VVNTU ZINGZ QAIIC LDGSD JJICW CJVIB DMIJV IQODK ZTAIW CJIGI HJWCS JDGIN TZNJI GAKJC DJVWC SWCJV IBZDD YITWB EDGJN CJICD KSVJD VNMII PUWJI TBQUD UDCHE WGNJD GOVDI MIGJV NJBWS VJAIW JODKZ TVNMI AIICI NHQJD SIJTW HUDKG NSITA KJWCI ITITJ DGIUD MIGJV IZWTN GHDWU NGGWI TDCHI NGUVW CSLDG JVIUV WBCIQ WIMIC JKNZZ QLDKC TWJNJ JVIAN UYDLJ VIHJN UYHAK JJVIG IONHC DHWSC DLJVI ZWTNG DGDLN CQTWH JKGAN CUIJD HKSSI HJWJV NTLNZ ZICJV NJLNG HDWSK IHHIT WJBWS VJVNM ISDJU NKSVJ DCNZI TSIVW SVIGK ELDGJ KCNJI ZQJVI UVWBC IQONH LNWGZ QOWTI AKJCD JHDOW TIJVN JWUDK ZTCJA GWTSI WJNCT NZZJV DHIVD KGHDC JVIUZ WBAWC SONZZ ENWTD LLNHW UZWBA ITKEZ DDYWC SLDGJ VIZDH JBNUV WCINH WHKHE IUJIT WJVNT UNKSV JDCDC IDLJV IZITS IHTIH WSCIT JDUNJ UVGNW CHDWB NTIGI NTQJD ZDOIG WJANU YTDOC AKJNH WBDMI TZDDH IAGWU YHJDH JINTQ BQHIZ LENGJ DLJVI WCCIG ONZZU DZZNE HITNC TJDBQ NBNRI BICJW LDKCT BQHIZ LHJNG WCSWC JDNUD CJGDZ GDDBW JONHM IGQXK ZIHMI GCINC TODKZ TCJVN MIZDD YITDK JDLEZ NUIDC JVIAG WTSID LJVIC NKJWZ KHWJB KHJVN MIAII CUKJJ WCSIT SIJIU VCDZD SQDCU INZZA GNHHN CTEDZ WHVIT WCHJG KBICJ HJVIG IONHN BNEDC JVION ZZUDM IGITW CHBNZ ZAKZA HJVNJ WNHHK BITOD KZTVN MIZWJ KEJDH WSCWL QNUJW MWJQN CTNAN CYDLL WCICW CIJII CJVUI CJKGQ JIZIS GNEVB NUVWC IHWCE DZWHV ITONZ CKJKC ZIHHW ONHBW HJNYI CWVNT LDKCT TDKSZ NHAZN UYHUD BBNCT UICJG IKCTI GNZNG SIUWG UKZNG DNYJN AZIWC JVIUI CJGID LJVIG DDBJV IGION HNLWZ WCSHQ HJIBO WJVTG NOIGH UDCJN WCWCS BNEHD LIMIG QCNJW DCNCT JVIJN AZIUD KZTAI JKGCI TZWYI NGIHJ NKGNC JZNRQ HKHNC JVION ZZHOI GIZWC ITOWJ VAGNH HADKC TZITS IGHNC TLDZT IGHBN GYITO WJVOV NJZDD YITZW YIBWH HWDCU DTICN BIHWC NBDCS HJJVI BONHJ VIBDH JNBNR WCSLW CTAZN UYHUD TIADD YWJUD CJNWC ITNCK BAIGD LYIQH NCTAI HJDLN ZZNZW HJDLU WEVIG HNCTO VICNC TVDOJ VIQHV DKZTA IKHIT WJODK ZTAIO DGJVN LDGJK CIDCJ VIAWA ZWDEV WZIAZ NUYBN GYIJA KJWTW TCJLI IZZWY IHIZZ WCSWJ VNGGQ BWSVJ AIWCJ IGIHJ ITWLD CZQLD GVWHJ DGWUN ZGINH DCHAK JWLCD JJVIC JVWHO DKZTL WCTNV DBIWC BQDOC EGWMN JIUDZ ZIUJW DCWJD DYNHI NJAQJ VIJIZ ISGNE VNCTE KJBQL IIJKE DEICW CSJVI UDTIA DDYNJ GNCTD BJDGI NTNHO WJVJV IJVGI IIBEI GDGHD EIGNJ WDCWJ BNQAI CIUIH HNGQJ DICVN CUIDE IGNJW DCNZH IUKGW JQTKG WCSJV IDEIG NJWDC WJHIZ LWCJV NJUNH IOIBD MITLG DBEKG IZQZI JJIGH KAHJW JKJWD CUGQE JDSGN BHJDJ GNCHE DHWJW DCUWE VIGHN CTNJJ VIKGS WCSDL ANGDC EZNQL NWGDJ VIGBD GIUDB EZWUN JITUW EVIGH ZWYIJ VIMWS ICIGI NCTEZ NQLNW GUWEV IGHNC TMNGW NCJHK EDCJV IBWON HUDBE ZIJIZ QWBBI GHITW COVNJ WONHG INTWC SNCTJ VICWJ VWJBI
""".replace(" ", "").strip()
Utils.get_stats(text)
key, plain = Substitution.auto_decode(text)
print(Substitution.key_as_str(key), plain)

"""
Yet another Substitution Cipher: NAUTILSVWXYZBCDEFGHJKMOPQR (Run-On Keyword: NAUTILUS)
IT WAS DARK AND DUSTY IN THE SHADOW ARCHIVE BUT AT LEAST I HAD FOUND IT THE SHELVES MARCHED OFF INTO THE GLOOM AND MOST OF THEM WERE EMPTY THOUGH THERE WAS THE OCCASIONAL BOX OF PAPERS MARKED SA WHICH HAD CLEARLY BEEN FORGOTTEN IN THE MOVE THEY WOULD BE INTERESTING TO READ LATER BUT NOTHING IN THEM LOOKED IMPORTANT ENOUGH TO HAVE EXCITED MY CO CONSPIRATOR WHOEVER THAT MIGHT BE IT WOULD HAVE BEEN EASY TO GET DISCOURAGED BUT I NEEDED TO RECOVER THE LIDAR SO I CARRIED ON SEARCHING FOR THE CHIMNEY I EVENTUALLY FOUND IT AT THE BACK OFT HE STACKS BUT THERE WAS NO SIGN OF THE LIDAR OR OF ANY DISTURBANCE TO SUGGEST IT HAD FALLEN THAT FAR SO I GUESSED IT MIGHT HAVE GOT CAUGHT ON A LEDGE HIGHER UP FORTUNATELY THE CHIMNEY WAS FAIRLY WIDE BUT NOT SO WIDE THAT I COULDNT BRIDGE IT AND ALL THOSE HOURS ON THE CLIMBING WALL PAID OFF AS I CLIMBED UP LOOKING FOR THE LOST MACHINE AS I SUSPECTED IT HAD CAUGHT ON ONE OF THE LEDGES DESIGNED TO CATCH RAIN SO I MADE READY TO LOWER IT BACK DOWN BUT AS I MOVED LOOSE BRICKS TO STEADY MYSELF PART OF THE INNER WALL COLLAPSED AND TO MY AMAZEMENT I FOUND MYSELF STARING INTO A CONTROL ROOM IT WAS VERY JULES VERNE AND WOULDNT HAVE LOOKED OUT OF PLACE ON THE BRIDGE OF THE NAUTILUS IT MUST HAVE BEEN CUTTING EDGE TECHNOLOGY ONCE ALL BRASS AND POLISHED INSTRUMENTS THERE WAS A MAP ON THE WALL COVERED IN SMALL BULBS THAT I ASSUMED WOULD HAVE LIT UP TO SIGNIFY ACTIVITY AND A BANK OF FINE NINETEENTH CENTURY TELEGRAPH MACHINES IN POLISHED WALNUT UNLESS I WAS MISTAKEN I HAD FOUND DOUGLAS BLACKS COMMAND CENTRE UNDER A LARGE CIRCULAR OAK TABLE IN THE CENTRE OF THE ROOM THERE WAS A FILING SYSTEM WITH DRAWERS CONTAINING MAPS OF EVERY NATION AND THE TABLE COULD BE TURNED LIKE A RESTAURANT LAZY SUSAN THE WALLS WERE LINED WITH BRASS BOUND LEDGERS AND FOLDERS MARKED WITH WHAT LOOKED LIKE MISSION CODE NAMES IN AMONGST THEM WAS THE MOST AMAZING FIND BLACKS CODE BOOK IT CONTAINED A NUMBER OF KEYS AND BEST OF ALL A LIST OF CIPHERS AND WHEN AND HOW THEY SHOULD BE USED IT WOULD BE WORTH A FORTUNE ON THE BIBLIOPHILE BLACK MARKET BUT I DIDNT FEEL LIKE SELLING IT HARRY MIGHT BE INTERESTED IF ONLY FOR HISTORICAL REASONS BUT IF NOT THEN THIS WOULD FIND A HOME IN MY OWN PRIVATE COLLECTION I TOOK A SEAT BY THE TELEGRAPH AND PUT MY FEET UP OPENING THE CODE BOOK AT RANDOM TO READ AS WITH THE THREE EMPERORS OPERATION IT MAYBE NECESSARY TO ENHANCE OPERATIONAL SECURITY DURING THE OPERATION ITSELF IN THAT CASE WE MOVED FROM PURELY LETTER SUBSTITUTION CRYPTOGRAMS TO TRANSPOSITION CIPHERS AND AT THE URGING OF BARON PLAYFAIR OTHER MORE COMPLICATED CIPHERS LIKE THE VIGENERE AND PLAYFAIR CIPHERS AND VARIANTS UPON THEM I WAS COMPLETELY IMMERSED IN WHAT I WAS READING AND THEN IT HIT ME
"""

print("\nPart B")
text = """
NILIF RTITA GNEHT EDBIL REITA NOFOS UONER MESEI SIRPA NIPIC LAAOG BLFTU LOWOL NIYMG IDUCS SSNOI WSHTI LPFYA IAHIR VAOCE EMSOT EEAHT TTCEH ALISS ACTSL ARGET OYRTF IYTGN TONRU SAINE ROMEM EBFOR HTEDE ELTAG OIISN BSHTO IRYKS NANUD ENSEC ASAYR YNPPA ORHCA OTCUS AHNIN IDDIV AUIRL KSISS NGLLA NIUOG IRETN TNNOI ASUDN DNMRE NIOSE RUIBA ILTYT AOPAD OTPRU ALSSN CECER IYVES REHTY NISAG LPFYA IAOPR NIOST TUOHT ESDNI VIUDI LAFOS ETAHN EVTIL LTNIE LFNEU ECYNA AWHTY YEERA HTERE OTERP ESATN OPTNI FOEIV AWTDN EHSEB OTHTF MELTA AETTS LOTSI NETUB HTHYE VAILE TTAEL TUROH TIHTY JEINU ROFFO CILAI OSHTN OEEHT HRDNA AHAEV MLTSO OTLAT OCRTN LOEFO EVSTN HTSYE TEEHT GADNE IAIDN CSSSU OIIWN HTENO NAHTO REDNA HTRIE ESOIN SRDNA OMIER PMTRO NAYLT HTTYE KAHTE REOCE DRTFO EHEEM ITAGN TFTRE EHLED GEETA HSEVA ERRUT ENOTD HTRIE OHSEM TITSI AHERT OCTDR AHEBT OCSEM HTERE LAYTI EWNOD TOEEN TDEBO HTERE ROEVE TNNKO WOAHW WTSSA IAEWD ENODE LNOTY NKWWO AHAHT BSNEE ERROC EDSAD HTRTE TUNAH WDREH PESSO BITEL SOPAH TETAH RTHTU NIRUO EBITS TNERE TSHTS SIEBI ILEVE OTAEB ENITN ERNYL WERTS TAYGE NIEHT OWDLR FOPID OLCAM AYIDN MAELP SATDE BOBAE ELDOT VEOLE IPIWT HTEHT EHOPL SFHCU DATSI NIIUG HSFDE IRDNE LPFYA IASIR MAONA CFNNU NINAG IDJNE YOROW IKWGN TIIHH NMHWO REAHE TSSIH UCINN GNEEB MNERO FECEF ITTEV AHNIN IHTSS ARGET FYTRO EHNAM GAEME TNTFO EHIER HCATS TDEEM ITAGN ELNAX EDRFR NAOJZ ESOGF CRKAH VODNA NAARD SSEMY TTGAO ERETE MRNOS URISS SAVNI LOMEV NENIT HTABE KLSNA NAHTD REAWE ASAER RLKSI HTTTA EHOWY LUNUD TINAE FDHGI TTOCO TNLOR UORTR DAORE TUWSE TIUSH HCGIH LHEVE ILOVN VLEME TNTNI EHSID UCISS NOTIS AWLCS AEHTR TAWEW UOHDL VAILE TTTEL NOOHO EPIFO FNEUL CNGNI HTRPE NIPIC LANAS SDEWO EDDIC DEFOT LOWOL HTLPE YAIAF SRART ETAYG PPIYL GNRAC FEPLU ERUSS ERTOT EHNUJ OIEMR BMSRE FOEHT ERNIT EUUOS ARNEG STDNA FOCIF REEPS SRDAU DEEHT TMERO OPOTR TNPEH OREEC IDSGN RPIVO IDUGN WSHTI HTNIE ETILL EGECN EWEEN EDOTD RPAPE ERROF HTOFE TROCH IMWGN RATEB EWRNE SUAIS NAHTD OEOTT AMMEN IPBER TUFFO RAERG TASRE GIFIN CICNA TEYEH EWAER LBOTE NERUS MEIXA UMOCM FNISU NOOMA GNRUO NEIME SETYB EHSOM MTVRA LEUOL SSART ATMEG HWHCI WILLI ERREF OTTSA EHALP FYRIA AGIBM TTOEH FFICI LAEWS ERLBA TEEPO SRDAU TEIEH LRDAE REHTS TAWTI UOBDL BETTE RETON OTKAT OEIFF ICMLA NIETU OSHTF METEE NIHWG LIEWE ERIEC EVFAD LUNAL ADUCC ARAET CCNUO OTLAF TLDEH SISUC ISSNO HTURE SSNAI NAUAD TSHOR NURAG AIFON IFAIC SLREW LETFE NOWYL TINIH OFAMR PLSRE NONLA TOOSE TFDEH SISUC ISSNO NAOND GAEER RDOCE DRTFO EHEEM ITOGN IRAST RGDEE UOOCT EMEWS UFYLL NINET TDXEO LPTIO HTUSI CNTRE IAYTN TAEHT OFHTR OCNIM CGFNO RECNE IEOCN SNNAT ITPON LE
""".replace(" ", "").strip()

Utils.get_stats(text)
print(ColumnarTransposition.auto_decode(text, 5, 5))

"""
Columnar Transposition Cipher, key: 21543
infiltrating the deliberations of our enemies is a principal goal but following my discussions with playfair i have come to see that the classical strategy of trying to turn a senior member of the delegations is both risky and unnecessary any approach to such an individual risks signalling our intentions and undermine sourability to adapt our plans secrecy is everything as playfair points out those individuals often have little influence anyway they are there to present a point of view and the best of them at least to listen but they have little authority the junior officials on the other hand have almost total control of events they set the agenda in discussion with one another and their seniors and more importantly they take the record of the meeting after the delegates have returned to their homes it is that record that becomes the reality we do not need to be there or even to know what was said we need only to know what has been recorded as the truth and where possible to shape that truth in our best interests this i believe to be an entirely new strategy in the world of diplomacy and i am pleased to be able to develop it with the help of such a distinguished friend playfair is a man of cunning and i enjoy working with him nowhere has this cunning been more effective than in his strategy for the management of the reichstadt meeting alexander franz jose f gorchakov and and rassy met to agree terms on russias involvement in the balkans and there was a real risk that they would unite and fight to control our trade routes with such high level involvement in the discussions it was clear that we would have little to no hope of influencing the principals and so we decided to follow the playfair strategy applying careful pressure to the junior members of the retinue so ur agents and officers persuaded them to report on the proceedings providing us with the intelligence we needed to prepare for the forthcoming war between russia and the ottoman empire but of far greater significance they were able to ensure maximum confusion among our enemies by the most marvellous stratagem which i will refer to as the playfair gambit the officials were able to persuade their leaders that it would be better not to take official minutes of the meeting while we received a full and accurate account of all the discussions the russian and austrohungarian officials were left only with informal personal notes of the discussions and no agreed record of the meeting or its agreed outcomes we fully intend to exploit this uncertainty at the forthcoming conference in constantinople
"""


